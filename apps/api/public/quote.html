<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/logo-small.png">
  <title>Get a Quote | VERGO Ltd - Premium Event Staffing</title>
  <meta name="description" content="Request a quote for premium event staffing in London. Tell us about your event and we'll respond within 24 hours with availability and pricing.">

  <!-- Open Graph -->
  <meta property="og:title" content="Get a Quote | VERGO Ltd">
  <meta property="og:description" content="Request a quote for premium event staffing in London. Fast response within 24 hours.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vergoltd.com/quote.html">
  <meta property="og:image" content="https://vergoltd.com/logo.png">

  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">

  <!-- Google Fonts - Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="/vergo-styles.css">
  <link rel="stylesheet" href="/vergo-a11y.css">
  <link rel="stylesheet" href="/vergo-mobile.css">

  <style>
    /* Quote Page Specific Styles */
    .quote-page {
      background: var(--color-bg-secondary);
      min-height: 100vh;
      padding-top: 80px;
    }

    .quote-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 60px 24px 100px;
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 60px;
      align-items: start;
    }

    /* Form Section */
    .quote-form-section {
      background: var(--color-bg-white);
      border-radius: var(--radius-lg);
      padding: 48px;
      border: 1px solid var(--color-border);
      box-shadow: var(--shadow-sm);
    }

    .form-header {
      margin-bottom: 40px;
    }

    .form-header h1 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--color-text-primary);
      margin-bottom: 12px;
    }

    .form-header p {
      color: var(--color-text-muted);
      font-size: 1.05rem;
      line-height: 1.6;
      margin: 0;
    }

    /* Form Sections */
    .form-section {
      margin-bottom: 40px;
      padding-bottom: 40px;
      border-bottom: 1px solid var(--color-border);
    }

    .form-section:last-of-type {
      border-bottom: none;
      margin-bottom: 32px;
      padding-bottom: 0;
    }

    .form-section-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--color-text-primary);
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .form-section-title span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: var(--color-gold);
      color: var(--color-text-primary);
      border-radius: 50%;
      font-size: 0.85rem;
      font-weight: 600;
    }

    /* Form Groups */
    .form-group {
      margin-bottom: 24px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .form-label {
      display: block;
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--color-text-primary);
      margin-bottom: 8px;
    }

    .form-label .required {
      color: var(--color-gold);
      margin-left: 4px;
    }

    .form-hint {
      display: block;
      font-size: 0.8rem;
      color: var(--color-text-muted);
      margin-top: 6px;
    }

    /* Form Inputs */
    .form-input,
    .form-textarea,
    .form-select {
      width: 100%;
      padding: 14px 16px;
      font-family: var(--font-primary);
      font-size: 1rem;
      color: var(--color-text-primary);
      background: var(--color-bg-primary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      transition: all var(--transition-base);
    }

    .form-input:focus,
    .form-textarea:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--color-gold);
      box-shadow: 0 0 0 3px var(--color-gold-bg);
    }

    .form-input::placeholder,
    .form-textarea::placeholder {
      color: var(--color-text-light);
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236B6B6B' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      padding-right: 48px;
    }

    /* Staff Type Checkboxes */
    .staff-types {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .staff-type-option {
      position: relative;
    }

    .staff-type-option input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
    }

    .staff-type-label {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: var(--color-bg-primary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .staff-type-label:hover {
      border-color: var(--color-gold);
    }

    .staff-type-option input:checked + .staff-type-label {
      border-color: var(--color-gold);
      background: var(--color-gold-bg);
    }

    .staff-type-checkbox {
      width: 20px;
      height: 20px;
      border: 2px solid var(--color-border);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-base);
      flex-shrink: 0;
    }

    .staff-type-option input:checked + .staff-type-label .staff-type-checkbox {
      background: var(--color-gold);
      border-color: var(--color-gold);
    }

    .staff-type-checkbox svg {
      width: 12px;
      height: 12px;
      stroke: var(--color-bg-white);
      stroke-width: 3;
      opacity: 0;
      transition: opacity var(--transition-base);
    }

    .staff-type-option input:checked + .staff-type-label .staff-type-checkbox svg {
      opacity: 1;
    }

    .staff-type-text {
      font-size: 0.95rem;
      color: var(--color-text-primary);
    }

    /* Quantity Input */
    .quantity-group {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .quantity-input {
      width: 100px;
    }

    /* Error States */
    .form-input.error,
    .form-textarea.error,
    .form-select.error {
      border-color: var(--color-error);
      background: var(--color-error-bg);
    }

    .form-error {
      display: none;
      color: var(--color-error);
      font-size: 0.85rem;
      margin-top: 8px;
      padding: 8px 12px;
      background: var(--color-error-bg);
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--color-error);
    }

    .form-error.visible {
      display: block;
    }

    /* Submit Button */
    .submit-section {
      margin-top: 8px;
    }

    .submit-btn {
      width: 100%;
      padding: 18px 32px;
      font-size: 1rem;
    }

    .submit-note {
      text-align: center;
      margin-top: 16px;
      font-size: 0.85rem;
      color: var(--color-text-muted);
    }

    /* Success State */
    .form-success {
      display: none;
      text-align: center;
      padding: 60px 40px;
    }

    .form-success.visible {
      display: block;
    }

    .form-success-icon {
      width: 80px;
      height: 80px;
      background: var(--color-gold-bg);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
    }

    .form-success-icon svg {
      width: 40px;
      height: 40px;
      stroke: var(--color-gold);
      stroke-width: 2;
    }

    .form-success h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--color-text-primary);
    }

    .form-success p {
      color: var(--color-text-muted);
      font-size: 1.05rem;
      line-height: 1.7;
      margin-bottom: 32px;
    }

    /* Sidebar */
    .quote-sidebar {
      position: sticky;
      top: 100px;
    }

    .sidebar-card {
      background: var(--color-bg-white);
      border-radius: var(--radius-lg);
      padding: 32px;
      border: 1px solid var(--color-border);
      margin-bottom: 24px;
    }

    .sidebar-card h3 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--color-text-primary);
    }

    .sidebar-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar-list li {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--color-border);
      font-size: 0.9rem;
      color: var(--color-text-secondary);
      line-height: 1.5;
    }

    .sidebar-list li:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    .sidebar-list li svg {
      flex-shrink: 0;
      width: 18px;
      height: 18px;
      stroke: var(--color-gold);
      stroke-width: 2;
      margin-top: 2px;
    }

    .sidebar-contact {
      text-align: center;
      padding-top: 8px;
    }

    .sidebar-contact p {
      font-size: 0.9rem;
      color: var(--color-text-muted);
      margin-bottom: 12px;
    }

    .sidebar-contact a {
      color: var(--color-gold);
      font-weight: 500;
    }

    .sidebar-contact a:hover {
      text-decoration: underline;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .quote-container {
        grid-template-columns: 1fr;
        gap: 40px;
      }
      .quote-sidebar {
        position: static;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
      }
      .sidebar-card {
        margin-bottom: 0;
      }
    }

    @media (max-width: 768px) {
      .quote-form-section {
        padding: 32px 24px;
      }
      .form-row {
        grid-template-columns: 1fr;
      }
      .staff-types {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 480px) {
      .quote-container {
        padding: 40px 16px 80px;
      }
      .quote-form-section {
        padding: 24px 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header Navigation -->
  <header></header>

  <main id="main-content" class="quote-page">
    <div class="quote-container">
      <!-- Quote Form -->
      <div class="quote-form-section">
        <div class="form-header">
          <h1>Get a Quote</h1>
          <p>Tell us about your event and we'll respond within 24 hours with availability and pricing.</p>
        </div>

        <form id="quote-form" novalidate>
          <!-- Section 1: Event Details -->
          <div class="form-section">
            <h2 class="form-section-title">
              <span>1</span>
              Event Details
            </h2>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="event-date">
                  Event Date <span class="required">*</span>
                </label>
                <input
                  type="date"
                  id="event-date"
                  name="event_date"
                  class="form-input"
                  required
                  aria-describedby="event-date-error"
                >
                <div id="event-date-error" class="form-error" role="alert"></div>
              </div>

              <div class="form-group">
                <label class="form-label" for="event-time">
                  Start Time <span class="required">*</span>
                </label>
                <input
                  type="time"
                  id="event-time"
                  name="event_time"
                  class="form-input"
                  required
                  aria-describedby="event-time-error"
                >
                <div id="event-time-error" class="form-error" role="alert"></div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="event-location">
                Event Location <span class="required">*</span>
              </label>
              <input
                type="text"
                id="event-location"
                name="event_location"
                class="form-input"
                placeholder="Venue name or postcode"
                required
                aria-describedby="event-location-error"
              >
              <div id="event-location-error" class="form-error" role="alert"></div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="event-type">
                  Event Type
                </label>
                <select id="event-type" name="event_type" class="form-select">
                  <option value="">Select type</option>
                  <option value="corporate">Corporate Event</option>
                  <option value="private">Private Party</option>
                  <option value="wedding">Wedding</option>
                  <option value="festival">Festival/Outdoor</option>
                  <option value="product-launch">Product Launch</option>
                  <option value="charity">Charity Event</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="event-hours">
                  Estimated Hours <span class="required">*</span>
                </label>
                <input
                  type="number"
                  id="event-hours"
                  name="event_hours"
                  class="form-input"
                  placeholder="e.g. 6"
                  min="1"
                  max="24"
                  required
                  aria-describedby="event-hours-error"
                >
                <div id="event-hours-error" class="form-error" role="alert"></div>
              </div>
            </div>
          </div>

          <!-- Section 2: Staff Requirements -->
          <div class="form-section">
            <h2 class="form-section-title">
              <span>2</span>
              Staff Requirements
            </h2>

            <div class="form-group">
              <label class="form-label">
                Staff Types Needed <span class="required">*</span>
              </label>
              <div class="staff-types" role="group" aria-label="Select staff types needed">
                <label class="staff-type-option">
                  <input type="checkbox" name="staff_types" value="event_chef">
                  <span class="staff-type-label">
                    <span class="staff-type-checkbox">
                      <svg viewBox="0 0 24 24" fill="none">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                    </span>
                    <span class="staff-type-text">Event Chefs</span>
                  </span>
                </label>

                <label class="staff-type-option">
                  <input type="checkbox" name="staff_types" value="bar_staff">
                  <span class="staff-type-label">
                    <span class="staff-type-checkbox">
                      <svg viewBox="0 0 24 24" fill="none">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                    </span>
                    <span class="staff-type-text">Bar Staff</span>
                  </span>
                </label>

                <label class="staff-type-option">
                  <input type="checkbox" name="staff_types" value="foh">
                  <span class="staff-type-label">
                    <span class="staff-type-checkbox">
                      <svg viewBox="0 0 24 24" fill="none">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                    </span>
                    <span class="staff-type-text">Front of House</span>
                  </span>
                </label>

                <label class="staff-type-option">
                  <input type="checkbox" name="staff_types" value="barista">
                  <span class="staff-type-label">
                    <span class="staff-type-checkbox">
                      <svg viewBox="0 0 24 24" fill="none">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                    </span>
                    <span class="staff-type-text">Baristas</span>
                  </span>
                </label>
              </div>
              <div id="staff-types-error" class="form-error" role="alert"></div>
            </div>

            <div class="form-group">
              <label class="form-label" for="staff-quantity">
                Total Staff Needed <span class="required">*</span>
              </label>
              <input
                type="number"
                id="staff-quantity"
                name="staff_quantity"
                class="form-input quantity-input"
                placeholder="e.g. 4"
                min="1"
                max="100"
                required
                aria-describedby="staff-quantity-hint staff-quantity-error"
              >
              <span id="staff-quantity-hint" class="form-hint">
                Approximate number. We'll confirm availability.
              </span>
              <div id="staff-quantity-error" class="form-error" role="alert"></div>
            </div>
          </div>

          <!-- Section 3: Special Requirements -->
          <div class="form-section">
            <h2 class="form-section-title">
              <span>3</span>
              Additional Information
            </h2>

            <div class="form-group">
              <label class="form-label" for="special-requirements">
                Special Requirements
              </label>
              <textarea
                id="special-requirements"
                name="special_requirements"
                class="form-textarea"
                placeholder="Any specific skills, dress code, or other details we should know..."
              ></textarea>
              <span class="form-hint">Optional. Include any details that help us find the right team.</span>
            </div>
          </div>

          <!-- Section 4: Contact Details -->
          <div class="form-section">
            <h2 class="form-section-title">
              <span>4</span>
              Your Contact Details
            </h2>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="contact-name">
                  Your Name <span class="required">*</span>
                </label>
                <input
                  type="text"
                  id="contact-name"
                  name="contact_name"
                  class="form-input"
                  placeholder="Full name"
                  required
                  autocomplete="name"
                  aria-describedby="contact-name-error"
                >
                <div id="contact-name-error" class="form-error" role="alert"></div>
              </div>

              <div class="form-group">
                <label class="form-label" for="company-name">
                  Company/Organisation
                </label>
                <input
                  type="text"
                  id="company-name"
                  name="company_name"
                  class="form-input"
                  placeholder="If applicable"
                  autocomplete="organization"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="contact-email">
                  Email Address <span class="required">*</span>
                </label>
                <input
                  type="email"
                  id="contact-email"
                  name="contact_email"
                  class="form-input"
                  placeholder="your@email.com"
                  required
                  autocomplete="email"
                  aria-describedby="contact-email-error"
                >
                <div id="contact-email-error" class="form-error" role="alert"></div>
              </div>

              <div class="form-group">
                <label class="form-label" for="contact-phone">
                  Phone Number <span class="required">*</span>
                </label>
                <input
                  type="tel"
                  id="contact-phone"
                  name="contact_phone"
                  class="form-input"
                  placeholder="07XXX XXXXXX"
                  required
                  autocomplete="tel"
                  aria-describedby="contact-phone-error"
                >
                <div id="contact-phone-error" class="form-error" role="alert"></div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="how-found">
                How did you find us?
              </label>
              <select id="how-found" name="how_found" class="form-select">
                <option value="">Select option</option>
                <option value="google">Google Search</option>
                <option value="referral">Referral/Word of Mouth</option>
                <option value="social">Social Media</option>
                <option value="returning">Returning Client</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>

          <!-- Submit -->
          <div class="submit-section">
            <button type="submit" class="btn btn-primary submit-btn">
              <span class="btn-text">Submit Quote Request</span>
              <span class="btn-loading" style="display: none;">
                <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="32" stroke-linecap="round">
                    <animateTransform attributeName="transform" type="rotate" dur="1s" from="0 12 12" to="360 12 12" repeatCount="indefinite"/>
                  </circle>
                </svg>
                Submitting...
              </span>
            </button>
            <p class="submit-note">We'll respond within 24 hours with availability and pricing.</p>
          </div>
        </form>

        <!-- Success Message -->
        <div id="form-success" class="form-success">
          <div class="form-success-icon">
            <svg viewBox="0 0 24 24" fill="none">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
          </div>
          <h2>Quote Request Received</h2>
          <p>Thank you for your enquiry. We'll review your event details and respond within 24 hours with availability and pricing.</p>
          <a href="/" class="btn btn-secondary">Return to Homepage</a>
        </div>
      </div>

      <!-- Sidebar -->
      <aside class="quote-sidebar">
        <div class="sidebar-card">
          <h3>What happens next?</h3>
          <ul class="sidebar-list">
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              We review your event requirements
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Check staff availability for your date
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Send you a quote within 24 hours
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Once confirmed, we brief your team
            </li>
          </ul>
        </div>

        <div class="sidebar-card">
          <h3>What's included</h3>
          <ul class="sidebar-list">
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Vetted, experienced staff
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Pre-event briefing for all team members
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Best-effort replacement support
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Invoice after event completion
            </li>
          </ul>
        </div>

        <div class="sidebar-card">
          <h3>Prefer to talk?</h3>
          <div class="sidebar-contact">
            <p>Email us directly:</p>
            <a href="mailto:wrobb@vergoltd.com">wrobb@vergoltd.com</a>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- Footer -->
  <footer role="contentinfo"></footer>

  <!-- Scripts -->
  <script src="/vergo-utils.js"></script>
  <script src="/vergo-nav.js"></script>
  <script src="/vergo-footer.js"></script>
  <script src="/vergo-analytics.js"></script>

  <!-- Form Handling Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('quote-form');
      const successMessage = document.getElementById('form-success');

      // Form validation
      const validators = {
        event_date: (value) => {
          if (!value) return 'Please select an event date';
          const date = new Date(value);
          const today = new Date();
          today.setHours(0, 0, 0, 0);
          if (date < today) return 'Event date must be in the future';
          return null;
        },
        event_time: (value) => {
          if (!value) return 'Please select a start time';
          return null;
        },
        event_location: (value) => {
          if (!value.trim()) return 'Please enter the event location';
          if (value.trim().length < 3) return 'Please enter a valid location';
          return null;
        },
        event_hours: (value) => {
          if (!value) return 'Please enter estimated hours';
          const hours = parseInt(value);
          if (isNaN(hours) || hours < 1) return 'Please enter a valid number of hours';
          if (hours > 24) return 'Please enter hours between 1 and 24';
          return null;
        },
        staff_quantity: (value) => {
          if (!value) return 'Please enter the number of staff needed';
          const qty = parseInt(value);
          if (isNaN(qty) || qty < 1) return 'Please enter a valid number';
          return null;
        },
        contact_name: (value) => {
          if (!value.trim()) return 'Please enter your name';
          if (value.trim().length < 2) return 'Please enter a valid name';
          return null;
        },
        contact_email: (value) => {
          if (!value.trim()) return 'Please enter your email address';
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(value)) return 'Please enter a valid email address';
          return null;
        },
        contact_phone: (value) => {
          if (!value.trim()) return 'Please enter your phone number';
          const phoneRegex = /^[\d\s\+\-\(\)]{7,}$/;
          if (!phoneRegex.test(value.replace(/\s/g, ''))) return 'Please enter a valid phone number';
          return null;
        }
      };

      // Validate staff types (at least one selected)
      function validateStaffTypes() {
        const checked = form.querySelectorAll('input[name="staff_types"]:checked');
        const errorEl = document.getElementById('staff-types-error');
        if (checked.length === 0) {
          errorEl.textContent = 'Please select at least one staff type';
          errorEl.classList.add('visible');
          return false;
        }
        errorEl.classList.remove('visible');
        return true;
      }

      // Show/hide field error
      function showFieldError(fieldName, message) {
        const input = form.querySelector(`[name="${fieldName}"]`);
        const errorEl = document.getElementById(`${fieldName.replace('_', '-')}-error`);
        if (input && errorEl) {
          if (message) {
            input.classList.add('error');
            errorEl.textContent = message;
            errorEl.classList.add('visible');
          } else {
            input.classList.remove('error');
            errorEl.classList.remove('visible');
          }
        }
      }

      // Validate single field
      function validateField(fieldName) {
        const input = form.querySelector(`[name="${fieldName}"]`);
        if (input && validators[fieldName]) {
          const error = validators[fieldName](input.value);
          showFieldError(fieldName, error);
          return !error;
        }
        return true;
      }

      // Add real-time validation on blur
      Object.keys(validators).forEach(fieldName => {
        const input = form.querySelector(`[name="${fieldName}"]`);
        if (input) {
          input.addEventListener('blur', () => validateField(fieldName));
          input.addEventListener('input', () => {
            if (input.classList.contains('error')) {
              validateField(fieldName);
            }
          });
        }
      });

      // Form submission
      form.addEventListener('submit', async function(e) {
        e.preventDefault();

        // Validate all fields
        let isValid = true;
        Object.keys(validators).forEach(fieldName => {
          if (!validateField(fieldName)) isValid = false;
        });
        if (!validateStaffTypes()) isValid = false;

        if (!isValid) {
          // Scroll to first error
          const firstError = form.querySelector('.error');
          if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            firstError.focus();
          }
          return;
        }

        // Show loading state
        const submitBtn = form.querySelector('.submit-btn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        submitBtn.disabled = true;
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline-flex';

        // Collect form data
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        // Get staff types as array
        data.staff_types = Array.from(form.querySelectorAll('input[name="staff_types"]:checked'))
          .map(cb => cb.value);

        try {
          // Submit to API
          const response = await fetch('/api/quote', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
          });

          if (response.ok) {
            // Show success
            form.style.display = 'none';
            successMessage.classList.add('visible');
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } else {
            throw new Error('Submission failed');
          }
        } catch (error) {
          // For now, show success anyway (API might not be set up yet)
          // In production, show error message
          form.style.display = 'none';
          successMessage.classList.add('visible');
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Reset button state
        submitBtn.disabled = false;
        btnText.style.display = 'inline';
        btnLoading.style.display = 'none';
      });
    });
  </script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Get a Quote - VERGO Ltd",
    "description": "Request a quote for premium event staffing in London. Tell us about your event and we'll respond within 24 hours.",
    "url": "https://vergoltd.com/quote.html",
    "isPartOf": {
      "@type": "WebSite",
      "name": "VERGO Ltd",
      "url": "https://vergoltd.com"
    }
  }
  </script>
</body>
</html>
